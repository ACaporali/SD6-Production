{% form_theme formAdvert 'form/fields.html.twig' %}

<h3>Formulaire d'annonce</h3>

<div class="container">
	{{ form_start(formAdvert) }}

	{# Les erreurs générales du formulaire. #}
	{% if form_errors(formAdvert) or form_errors(formAdvert.title) or form_errors(formAdvert.content) or form_errors(formAdvert.date) or form_errors(formAdvert.author) or form_errors(formAdvert.image)%}
	<div class="">
		{{ form_errors(formAdvert) }}
		{{ form_errors(formAdvert.title) }}
		{{ form_errors(formAdvert.content) }}
		{{ form_errors(formAdvert.date) }}
		{{ form_errors(formAdvert.author) }}
		{{ form_errors(formAdvert.image.url) }}
		{{ form_errors(formAdvert.image.file) }}
	</div>
	{% endif %}

	<div class="row">
		{% if formAdvert.vars.data.isCasting %}
			{{ form_row(formAdvert.closure) }}
		{% endif %}
	</div>

	<div class="row">
		{# Génération du label. #}
		{{ form_label(formAdvert.category, "Categorie de l'annonce", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
		{# Génération de l'input. #}
		{{ form_widget(formAdvert.category, {'attr': {'class': 'browser-default'}}) }}
	</div>

	<div class="row">
		{{ form_label(formAdvert.title, "Titre de l'annonce", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
		{{ form_widget(formAdvert.title, {'attr': {'class': 'form-control'}}) }}
	</div>

	<div class="row">
		{{ form_label(formAdvert.taglines, "Accroche de l'annonce", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
		{{ form_widget(formAdvert.taglines, {'attr': {'class': 'form-control'}}) }}
	</div>

	<div class="row">
		{{ form_label(formAdvert.content, "Contenu de l'annonce", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
		{{ form_widget(formAdvert.content, {'attr': {'class': 'form-control'}}) }}
	</div>

	{# Génération du label + error + widget pour un champ #}
	<div class="row">
		{{ form_label(formAdvert.date, "Date", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
		{{ form_widget(formAdvert.date, {'attr': {'class': 'formAnnonce-control date-date'}}) }}
	</div>

	<div class="row">
		{{ form_label(formAdvert.author, "Auteur", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
		{{ form_widget(formAdvert.author, {'attr': {'class': 'form-control'}}) }}
	</div>

	<div class="row">
		{{ form_label(formAdvert.published, "Etat Publie ?", {'label_attr': {'class': 'col-sm-3 control-label label_publie'}}) }}
		{{ form_widget(formAdvert.published, {'attr': {'class': 'form-control checkbox_publie'}}) }}
	</div>

	<div class="row">
		{{form_row(formAdvert.image)}}
	</div>

	<div class="row">
		{{ form_label(formAdvert.pinned, "Epinglé en haut ?", {'label_attr': {'class': 'col-sm-3 control-label label_publie'}}) }}
		{{ form_widget(formAdvert.pinned, {'attr': {'class': 'form-control checkbox_publie'}}) }}
	</div>

	<div class="row">
		{# Pour le bouton, pas de label ni d'erreur, on affiche juste le widget #}
		{{ form_widget(formAdvert.valider, {'attr': {'class': 'btn btn-primary'}}) }}
	</div>

	{# Génération automatique des champs pas encore écrits.
	{{ form_rest(formAdvert) }}

	{# Fermeture de la balise <form> du formulaire HTML #}
	{{ form_end(formAdvert) }}
	</div>
